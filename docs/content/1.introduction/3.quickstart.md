# 快速入门

本指南将引导您使用 “Basic Agent App” 模板开发一个简单的 **Agent**，快速体验 **AgentKit** 从开发、部署到测试的全流程。AgentKit 提供多种模板，包括基础应用、流式输出、A2A 协议等，支持 Python 和 Golang 开发。

## 准备工作

### 1. 获取火山引擎访问密钥 (AK/SK)

首先，您需要一个火山引擎账号并开通 **AgentKit** 服务。请访问 [火山引擎控制台](https://console.volcengine.com/) 完成注册和开通。

然后，在 [访问控制](https://console.volcengine.com/iam/keymanage) 页面创建并获取访问密钥 (AK/SK)。

获取后，请将其设置为环境变量：

```bash
export VOLCENGINE_ACCESS_KEY=<your_access_key>
export VOLCENGINE_SECRET_KEY=<your_secret_key>
```

### 2. 获取模型推理 API Key (可选)

您的 **Agent** 通常需要调用大语言模型 (LLM) 来提供核心智能。**AgentKit Platform** 支持火山方舟的多种模型。请确保您已开通 [火山方舟](https://console.volcengine.com/ark/region:ark+cn-beijing/overview) 服务，并获取模型推理的 **Endpoint** 和 **API Key**。

- **获取推理接入点 (Endpoint)**: 在方舟平台的「在线推理」页面，您可以选择预置的推理接入点，或创建自定义推理接入点。

  ![推理接入点](../../public/images/select_or_create_model_endpoint.jpg)

- **获取 API Key**: 在「API Key 管理」页面，选择或创建一个新的 API Key。

  ![API Key管理](../../public/images/model_apikey.jpg)

请记录下您的 **Endpoint ID** 如`ep-20250520174054-xxxxx`（也可以是模型ID如 `deepseek-v3-1-terminus`）和 **API Key**，后续将通过环境变量`MODEL_AGENT_NAME`和`MODEL_AGENT_API_KEY`配置给 **Agent**
> 如果您不提供这些信息，**AgentKit Platform** 将在云端部署时自动为您注入一个内置的 `doubao-seed-1-6` 模型。

### 3. 本地调试凭证配置 (Local 模式必读)

如果您计划在本地 (Local 模式) 运行和调试 Agent，由于本地环境无法自动注入云端凭证，您**必须**手动配置访问凭证，否则 Agent 将无法调用大模型。

您可以通过以下两种方式之一配置凭证：

**方式一：配置方舟模型凭证**

直接指定要使用的模型接入点和 API Key：

```bash
# 在 config 时通过 --runtime_envs (-e) 设置
agentkit config -e MODEL_AGENT_NAME=<your_endpoint_id> -e MODEL_AGENT_API_KEY=<your_api_key>
```

**方式二：配置火山引擎访问密钥**

如果配置了火山引擎的 AK/SK，veADK 会尝试自动获取您的模型访问权限：

```bash
# 在 config 时通过 --runtime_envs (-e) 设置
agentkit config -e VOLCENGINE_ACCESS_KEY=<your_access_key> -e VOLCENGINE_SECRET_KEY=<your_secret_key>
```

> **注意**：
> 1. 在 Local 模式下，直接在宿主机 shell 中 `export` 环境变量对容器内无效，必须使用 `agentkit config -e` 将其写入 `agentkit.yaml` 的 `runtime_envs` 中。
> 2. 在 Cloud 模式下，Runtime 会自动注入相关凭证，通常无需手动配置上述环境变量。

## 开始使用

### 步骤 1: 安装 AgentKit

在开始之前，请确保您已遵循 [安装 AgentKit](./2.installation.md) 指南完成 `agentkit` CLI 的安装和环境配置。

### 步骤 2: 初始化项目

创建一个项目目录，并使用 `agentkit init` 命令初始化您的 **Agent** 应用：

```bash
mkdir simple-agent && cd simple-agent
agentkit init
```

执行后会显示可用模板列表，选择模板 `1` (Basic Agent App)。您也可以使用 `--template` 参数直接指定模板：

```bash
# 使用基础模板
agentkit init --template basic

# 使用流式输出模板
agentkit init --template basic_stream

# 查看所有可用模板
agentkit init --list-templates
```

命令执行后，将在当前目录生成模板代码和配置文件：
```txt
.
├── agentkit.yaml       # **Agent** 的核心配置文件。
├── requirements.txt    # 项目的 Python 依赖。
└── simple_agent.py     # **Agent** 应用的入口文件。
```

### 步骤 3: 配置与部署

您可以使用 `agentkit launch` 命令一键完成应用的构建和云端部署。该命令会使用 `agentkit.yaml` 文件中的配置。

如果需要自定义配置（例如，指定部署区域、镜像仓库或传入模型密钥），可以手动编辑 `agentkit.yaml`，或运行 `agentkit config` 命令，通过交互式向导生成配置。

```bash
agentkit config
```

配置向导会引导您完成以下设置：

**通用配置**（按 回车 使用默认值）：
- **1.应用名称**：Agent 应用名称（默认值为 `simple_agent`，可直接按回车使用默认值）
- **2.入口文件**：应用入口文件（默认值为 `simple_agent.py`）
- **3.应用描述**：应用描述信息（可选）
- **4.编程语言**：Python 或 Golang（默认 Python）
- **5.依赖文件**：默认 `requirements.txt` 或 `go.mod`
- **6.Agent应用内部Runtime常用环境变量**：
  - `MODEL_AGENT_NAME`：方舟模型接入点 ID（可选）
  - `MODEL_AGENT_API_KEY`：方舟模型 API Key（可选）
- **7.部署模式**：选择 `cloud`（云端构建和部署）

**云端部署配置**：
- **1.服务区域**：默认 `cn-beijing`
- **2.镜像标签**：默认 `{{timestamp}}`, 会自动渲染为时间戳，格式如20251218154940
- **3.CR 镜像仓库**：CLI 会自动生成CR实例名称、CR命名空间和CR仓库名，用户也可手动指定（建议自动即可）

完成配置后，执行 `launch` 命令即可一键部署：

```bash
agentkit launch
```

该命令会自动完成以下步骤：
1. 渲染 Dockerfile
2. 创建项目压缩包并上传到 TOS
3. 准备 CR（容器镜像仓库）资源
4. 创建 Pipeline 并执行构建
5. 部署到 Runtime 环境

部署成功会显示：
```bash
✅ 创建Runtime成功: r-ye9j62wydcn****nhsoa, request_id: 20251120***************5344
等待Runtime状态为Ready...
💡 提示：Runtime初始化中，请耐心等待，不要中断进程
✅ Runtime状态为Ready
  Runtime状态: Releasing ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:01:23
Endpoint: https://sd4fe31poh486****.apigateway-cn-beijing.volceapi.com
100% ▶ 部署完成
✅ Successfully launched agent: https://sd4fe31poh486npgcaqq0.apigateway-cn-beijing.volceapi.com
Built image: agentkit-cli-21076x****-cn-beijing.cr.volces.com/agentkit/myapp:2025112017****
Endpoint: https://sd4fe31poh486****.apigateway-cn-beijing.volceapi.com
```

> **提示**：首次部署大约需要 2-3 分钟，请耐心等待。

## 使用 Agent

### 调用 Agent

使用 `invoke` 命令测试 Agent：

```bash
agentkit invoke "你好"
```

如果看到类似下面的输出，恭喜您，第一个 **Agent** 已成功运行！

```text
(agentkit) test@localhost:~/workspace/simple-agent$ agentkit invoke "你好"
Invoking agent...
Using default headers: {'user_id': 'agentkit_user', 'session_id': 'agentkit_sample_session'}
✅ Invocation successful
📝 Response:
你好！我是由****团队开发的AI助手，擅长数据科学（信息收集、数据分析等）、文档编写（撰写多章节文章、深度研究报告）以及软件开发（创建网站/应用、解决代码问题等）
。有什么具体需求，我很乐意为你提供帮助！
```

## 下一步

恭喜您完成了第一个 **Agent** 的开发和部署！

接下来您可以：
- 探索其他应用模板（MCP、A2A 等）
- 集成 Memory、Knowledge、Tools 等 Platform 服务，开发更强大的 **Agent**
- 使用 `agentkit memory`、`agentkit knowledge`、`agentkit tools` 等命令管理平台服务