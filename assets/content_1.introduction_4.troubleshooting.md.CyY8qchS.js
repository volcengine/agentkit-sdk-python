import{_ as l,c as e,o as a,ag as t}from"./chunks/framework.CQuhCYrb.js";const u=JSON.parse('{"title":"故障排除指南","description":"","frontmatter":{},"headers":[],"relativePath":"content/1.introduction/4.troubleshooting.md","filePath":"content/1.introduction/4.troubleshooting.md","lastUpdated":1764687855000}'),s={name:"content/1.introduction/4.troubleshooting.md"};function n(o,i,r,h,d,c){return a(),e("div",null,[...i[0]||(i[0]=[t(`<h1 id="故障排除指南" tabindex="-1">故障排除指南 <a class="header-anchor" href="#故障排除指南" aria-label="Permalink to &quot;故障排除指南&quot;">​</a></h1><p>本指南旨在帮助您诊断和解决在使用 AgentKit 过程中可能遇到的常见问题。如果您在此处未找到解决方案，请随时通过 <a href="https://github.com/volcengine/agentkit-sdk-python/issues" target="_blank" rel="noreferrer">GitHub Issues</a> 与我们联系。</p><h2 id="安装问题" tabindex="-1">安装问题 <a class="header-anchor" href="#安装问题" aria-label="Permalink to &quot;安装问题&quot;">​</a></h2><h3 id="_1-agentkit-命令未找到" tabindex="-1">1. <code>agentkit</code> 命令未找到 <a class="header-anchor" href="#_1-agentkit-命令未找到" aria-label="Permalink to &quot;1. \`agentkit\` 命令未找到&quot;">​</a></h3><ul><li><strong>现象</strong>: 在终端中执行 <code>agentkit</code> 命令时，系统提示 <code>command not found</code>。</li><li><strong>原因</strong>: 这通常是由于 <code>pip</code> 安装的可执行文件路径未被添加到系统的 <code>PATH</code> 环境变量中。</li><li><strong>解决方案</strong>: <ul><li>确认安装路径: 执行 <code>pip show agentkit-sdk-python</code> 或 <code>uv pip show agentkit-sdk-python</code>，找到 <code>Location</code> 字段指示的安装路径。</li><li>找到可执行文件: 在安装路径下的 <code>bin</code> 目录中（例如 <code>.../site-packages/bin</code>），应该能找到 <code>agentkit</code> 可执行文件。</li><li>添加到 PATH: 将此 <code>bin</code> 目录的绝对路径添加到您的 <code>~/.bashrc</code>、<code>~/.zshrc</code> 或其他 Shell 配置文件中。<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/path/to/your/python/bin:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span></code></pre></div></li><li>重新加载配置: 执行 <code>source ~/.bashrc</code> 或重启终端以使更改生效。</li></ul></li></ul><h3 id="_2-依赖冲突" tabindex="-1">2. 依赖冲突 <a class="header-anchor" href="#_2-依赖冲突" aria-label="Permalink to &quot;2. 依赖冲突&quot;">​</a></h3><ul><li><strong>现象</strong>: 在安装 <code>agentkit-sdk-python</code> 时，<code>pip</code> 报告依赖版本冲突。</li><li><strong>原因</strong>: 您的 Python 环境中可能已存在与 AgentKit 不兼容的库版本。</li><li><strong>解决方案</strong>: <ul><li>使用虚拟环境（推荐）: 强烈建议在项目中使用 <code>uv</code> 或 <code>venv</code> 创建一个干净的虚拟环境，以避免与系统级的 Python 包产生冲突。<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> venv</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .venv/bin/activate</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> agentkit-sdk-python</span></span></code></pre></div></li><li>强制重新安装: 如果不想使用虚拟环境，可以尝试强制重新安装 AgentKit 及其依赖。<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --force-reinstall</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> agentkit-sdk-python</span></span></code></pre></div></li></ul></li></ul><h2 id="配置问题" tabindex="-1">配置问题 <a class="header-anchor" href="#配置问题" aria-label="Permalink to &quot;配置问题&quot;">​</a></h2><h3 id="_1-环境变量未生效" tabindex="-1">1. 环境变量未生效 <a class="header-anchor" href="#_1-环境变量未生效" aria-label="Permalink to &quot;1. 环境变量未生效&quot;">​</a></h3><ul><li><strong>现象</strong>：提示无法连接到 AgentKit Platform 或认证失败。</li><li><strong>原因</strong>：可能未传入环境变量或传入了错误的环境变量名称</li><li><strong>解决方案</strong>： <ul><li>确认已设置必需的环境变</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $VOLCENGINE_ACCESS_KEY</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $VOLCENGINE_SECRET_KEY</span></span></code></pre></div><ul><li>确保没有多余的空格或引号</li><li>在当前 shell 会话中重新 export 环境变量</li></ul></li></ul><h3 id="_2-配置文件格式错误" tabindex="-1">2. 配置文件格式错误 <a class="header-anchor" href="#_2-配置文件格式错误" aria-label="Permalink to &quot;2. 配置文件格式错误&quot;">​</a></h3><ul><li><strong>现象</strong>：执行 <code>agentkit launch</code> 时提示配置文件解析失败。</li><li><strong>原因</strong>：文件格式问题</li><li><strong>解决方案</strong>： <ul><li>检查 <code>agentkit.yaml</code> 格式是否正确（注意缩进）</li><li>重新运行 <code>agentkit config</code> 生成配置</li></ul></li></ul><h2 id="部署问题" tabindex="-1">部署问题 <a class="header-anchor" href="#部署问题" aria-label="Permalink to &quot;部署问题&quot;">​</a></h2><h3 id="_1-cr-创建失败" tabindex="-1">1. CR 创建失败 <a class="header-anchor" href="#_1-cr-创建失败" aria-label="Permalink to &quot;1. CR 创建失败&quot;">​</a></h3><ul><li><strong>现象</strong>：</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>CreateRegistry: QuotaExceeded.Registry The quota of Registry is exceeded.</span></span></code></pre></div><ul><li><strong>原因</strong>：账号配额不足</li><li><strong>解决方案</strong>： <ul><li>CR 实例数量超出配额限制</li><li>在 <code>agentkit config</code> 中配置为已有的 CR 实例名称</li><li>或联系管理员提高配额</li></ul></li></ul><h3 id="_2-镜像构建失败" tabindex="-1">2. 镜像构建失败 <a class="header-anchor" href="#_2-镜像构建失败" aria-label="Permalink to &quot;2. 镜像构建失败&quot;">​</a></h3><ul><li><strong>现象</strong>：Pipeline 构建失败，提示依赖安装错误。</li><li><strong>原因</strong>：依赖安装失败</li><li><strong>解决方案</strong>： <ul><li>检查 <code>requirements.txt</code> 中的依赖是否正确</li><li>确认依赖版本是否兼容 Python 3.12</li><li>查看 Pipeline 日志获取详细错误信息 (日志会自动下载到您本地根目录下，您可以注意交互界面的提示，在根目录找到一个类似命名的文件pipeline_failed_****ff20ce223.log)</li></ul></li></ul><h3 id="_3-runtime-部署超时" tabindex="-1">3. Runtime 部署超时 <a class="header-anchor" href="#_3-runtime-部署超时" aria-label="Permalink to &quot;3. Runtime 部署超时&quot;">​</a></h3><ul><li><strong>现象</strong>：Runtime 长时间处于 <code>Releasing</code> 状态。</li><li><strong>原因</strong>：首次部署耗时久，或可能存在资源不足</li><li><strong>解决方案</strong>： <ul><li>首次部署通常需要 2-3 分钟，请耐心等待</li><li>使用 <code>agentkit status</code> 检查状态</li><li>如果超过 5 分钟仍未就绪，可能是资源不足，尝试 <code>agentkit destroy</code> 后重新部署</li></ul></li></ul><h3 id="_4-runtime-状态异常" tabindex="-1">4. Runtime 状态异常 <a class="header-anchor" href="#_4-runtime-状态异常" aria-label="Permalink to &quot;4. Runtime 状态异常&quot;">​</a></h3><ul><li><strong>现象</strong>：Runtime 状态为 <code>Failed</code> 或 <code>Error</code>。</li><li><strong>原因</strong>：Runtime 内部异常</li><li><strong>解决方案</strong>： <ul><li>检查环境变量配置是否正确（特别是模型 API Key）</li><li>查看 AgentKit Platform 控制台的日志</li><li>确认应用代码没有启动时错误</li><li>尝试使用 <code>agentkit destroy</code> 清理后重新部署</li></ul></li></ul><h2 id="调用问题" tabindex="-1">调用问题 <a class="header-anchor" href="#调用问题" aria-label="Permalink to &quot;调用问题&quot;">​</a></h2><h3 id="_1-invoke-调用失败" tabindex="-1">1. invoke 调用失败 <a class="header-anchor" href="#_1-invoke-调用失败" aria-label="Permalink to &quot;1. invoke 调用失败&quot;">​</a></h3><ul><li><strong>现象</strong>：执行 <code>agentkit invoke</code> 时提示连接失败或超时。</li><li><strong>原因</strong>：网络问题或 Endpoint 配置错误</li><li><strong>解决方案</strong>： <ul><li>使用 <code>agentkit status</code> 确认 Runtime 状态为 <code>Ready</code></li><li>检查网络连接</li><li>确认 Endpoint 地址正确</li><li>检查防火墙或代理设置</li></ul></li></ul><h3 id="_2-模型调用失败" tabindex="-1">2. 模型调用失败 <a class="header-anchor" href="#_2-模型调用失败" aria-label="Permalink to &quot;2. 模型调用失败&quot;">​</a></h3><ul><li><strong>现象</strong>：Agent 返回错误，提示模型访问失败。</li><li><strong>原因</strong>：模型 API Key 配置错误或模型配额用尽</li><li><strong>解决方案</strong>： <ul><li>确认方舟模型 API Key 配置是否正确</li><li>检查接入点 ID 是否有效</li><li>确认模型配额是否用尽</li><li>登录方舟平台检查 API Key 权限</li></ul></li></ul><h2 id="权限问题" tabindex="-1">权限问题 <a class="header-anchor" href="#权限问题" aria-label="Permalink to &quot;权限问题&quot;">​</a></h2><h3 id="_1-ak-sk-认证失败" tabindex="-1">1. AK/SK 认证失败 <a class="header-anchor" href="#_1-ak-sk-认证失败" aria-label="Permalink to &quot;1. AK/SK 认证失败&quot;">​</a></h3><ul><li><strong>现象</strong>：提示 <code>InvalidAccessKeyId</code> 或 <code>SignatureDoesNotMatch</code>。</li><li><strong>原因</strong>：AK/SK 配置错误或权限不足</li><li><strong>解决方案</strong>： <ul><li>确认 AK/SK 正确且有效</li><li>检查是否有 AgentKit 服务的访问权限</li><li>确认 AK/SK 没有被禁用或过期</li><li>联系管理员分配相关权限</li></ul></li></ul><h3 id="_2-资源访问被拒绝" tabindex="-1">2. 资源访问被拒绝 <a class="header-anchor" href="#_2-资源访问被拒绝" aria-label="Permalink to &quot;2. 资源访问被拒绝&quot;">​</a></h3><ul><li><strong>现象</strong>：提示 <code>AccessDenied</code> 或权限不足。</li><li><strong>原因</strong>：账号没有足够的权限执行操作</li><li><strong>解决方案</strong>： <ul><li>确认账号有相应资源的操作权限</li><li>检查 IAM 角色配置</li><li>联系管理员授予必要权限</li></ul></li></ul><h2 id="获取帮助" tabindex="-1">获取帮助 <a class="header-anchor" href="#获取帮助" aria-label="Permalink to &quot;获取帮助&quot;">​</a></h2><p>如果以上方案无法解决您的问题，请：</p><ol><li><p><strong>查看日志</strong>：</p><ul><li>本地日志：检查命令行输出</li><li>Platform 日志：访问 AgentKit 控制台查看详细日志</li></ul></li><li><p><strong>联系支持</strong>：</p><ul><li>提供详细的错误信息和日志</li><li>说明复现步骤</li><li>附上相关配置文件（注意脱敏）</li><li>联系火山引擎技术支持</li></ul></li><li><p><strong>查阅文档</strong>：</p><ul><li><a href="https://www.volcengine.com/docs/86681/1844878" target="_blank" rel="noreferrer">火山引擎官方文档</a></li><li><a href="https://www.volcengine.com/docs/86681/2085690?lang=zh" target="_blank" rel="noreferrer">官网FAQ</a></li></ul></li></ol>`,36)])])}const p=l(s,[["render",n]]);export{u as __pageData,p as default};
